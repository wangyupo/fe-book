# 展开嵌套数组

### flat

> 该方法会按照一个`可指定`的`深度`递归遍历数组，并将所有元素与遍历到的`子数组`中的元素合并为`一个新数组`返回。

它的语法是：

> var newArray = arr.flat(depth) \
其中`depth`是指定要提取嵌套`数组`的结构`深度`，默认值为 1。

```js
let arr1 = [1, 2, [3, 4]];
arr1.flat(); 
// [1, 2, 3, 4]

let arr3 = [1, 2, [3, 4, [5, 6]]];
arr3.flat(2);
// [1, 2, 3, 4, 5, 6]
```

### some + concat + apply

> apply() 方法调用一个具有给定 `this值` 的 `函数` ，以及作为一个 `数组（或类似数组对象）` 提供的 `参数` ，语法如下：

```js
func.apply(thisArg, [argsArray])
```

解决办法如下：

```js
function flatten(arr) {
    while (arr.some(item => Array.isArray(item))){
        arr = [].concat.apply([], arr);
    }
    return arr;
}
var arr = [1, [2, 3, [4]], "a", "b", ["c", "d"], [["d"],"e"], "f"];  
console.log(flatten(arr)) // [1, 2, 3, 4, "a", "b", "c", "d", "d", "e", "f"]
```



